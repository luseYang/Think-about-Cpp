# dynamic_cast

标准解释：沿继承层级向上、向下及侧向，安全地转换到其他类的指针和引用。

`dynamic_cast` 会在编译期检查类型是否有继承关系，而实际的转换合法性检查时在运行时进行的。编译器会确保你用 `dynamic_cast` 时，源类型和目标类型之间有继承关系。如果你尝试在没有继承关系的类型之间进行转换，编译器会报错。

比如：

```cpp
class A {};
class B {};

A* a = new A();
B* b = dynamic_cast<B*>(a);  // 编译时错误：没有继承关系
```

主要是运行时检查，`dynamic_cast` 进行类型转换时会在运行时进行更深的检查，确认对象的实际类型是否符合目标类型。如果实际类型与目标类型不匹配，`dynamic_cast` 会返回 `nullptr`（对于指针转换）或抛出 `std::bad_cast`（对于引用转换）。

